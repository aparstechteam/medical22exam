import{k as b,o as s,d as n,g as e,t as _,F as u,e as x,n as f,f as g}from"./index.7312e4b4.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";const w={data(){return{solution:[],loading:!1,unknown:!1,download:""}},beforeRouteEnter(o,l,a){if(JSON.parse(localStorage.getItem("medicalad_22")).roll){a();return}a({path:"/login"})},methods:{downloadQuestion(){window.open(this.download,"_blank")},endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){fetch(`${b}?type=examlist&id=${this.$route.params.id}`).then(o=>o.json()).then(o=>{this.url="https://script.google.com/macros/s/AKfycbzOBSdG0T8p7OIhwx8FSVELW8OwReJ-hS-HBS09FT3abMJR6MEeUyGFjItGBoVJYLDCkQ/exec?sheet="+o.exam.exam.substr(39,44),this.download=`https://drive.google.com/uc?id=${o.exam.pdfsolve.substr(32,33)}&export=download`;let l=JSON.parse(localStorage.getItem("medicalad_22")).ttrx;fetch(this.url+"&type=check&phone="+l).then(a=>a.json()).then(a=>{a.message=="exists"||new Date(o.exam.end_time).getTime()<Date.now()?(fetch(this.url+"&type=question").then(i=>i.json()).then(i=>{fetch(this.url).then(r=>r.json()).then(r=>{let c=i.map((t,h)=>(t.total_ans=0,t.t_0=0,t.t_1=0,t.t_2=0,t.t_3=0,r.forEach(d=>{JSON.parse(d.submission).forEach(m=>{h==m.id&&(t[`t_${m.s}`]++,t.total_ans++)})}),t.per_a=t.t_0/t.total_ans*100||0,t.per_b=t.t_1/t.total_ans*100||0,t.per_c=t.t_2/t.total_ans*100||0,t.per_d=t.t_3/t.total_ans*100||0,t));this.solution=c})}),this.loading=!1):(this.$router.push("/"),this.unknown=!0)})})}},created(){this.getQuestionLink()}},y={key:0},v={key:0,class:"pb-10"},S={class:"py-4 text-center"},L={class:"text-2xl font-bold text-gray-800 poppins dark:text-white"},T={class:"mx-2 md:w-2/3 md:mx-auto print:hidden"},$={class:"mx-2 md:w-2/3 md:mx-auto print:text-black",ref:"content"},E=["innerHTML"],M={class:"mt-3 space-y-2"},H=["innerHTML"],j={class:"text-sm priint:hidden"},B={class:"print:hidden"},J={key:0,class:"my-2 poppins"},O=["innerHTML"],Q={key:1},F=e("h2",{class:"mt-10 text-2xl text-center dark:text-white"}," You must participate in the exam or you will not be able to view this solution untill time ends. ",-1),I=[F],N={key:1,class:"flex items-center justify-center w-full h-screen"},R=e("button",{class:"btn btn-circle loading"},null,-1),C=[R];function D(o,l,a,i,r,c){return r.solution.length>0?(s(),n("div",y,[r.unknown?(s(),n("div",Q,I)):(s(),n("div",v,[e("div",S,[e("h1",L," Solution for Exam - "+_(this.$route.params.id),1)]),e("div",T,[e("button",{class:"btn",onClick:l[0]||(l[0]=(...t)=>c.downloadQuestion&&c.downloadQuestion(...t))}," download ")]),e("div",$,[(s(!0),n(u,null,x(r.solution,(t,h)=>(s(),n("div",{key:h,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg print:border-none print:shadow-none print:p-1 bg-gray-50 dark:bg-black dark:text-white kalpurush"},[e("div",{class:"inline-flex print:text-black",innerHTML:`<span class='mr-2'>${h+1})</span>`+t.question},null,8,E),e("div",M,[(s(),n(u,null,x(["a","b","c","d"],(d,p)=>e("div",{key:p,class:f(["flex flex-col p-3 rounded shadow dark:bg-gray-700 dark:border-gray-200",{"dark:bg-green-300 bg-green-300 print:border-gray-900":t[d]==t.correct}])},[e("div",{innerHTML:t[d]},null,8,H),e("div",j,"Response: "+_(t[`t_${p}`])+" ("+_(parseInt(t[`per_${d}`]))+"%) ",1)],2)),64)),e("p",B,"Total Response: "+_(t.total_ans),1)]),t.explain?(s(),n("h2",J,"Explain:")):g("",!0),t.explain?(s(),n("div",{key:1,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded print:text-black dark:bg-gray-600",innerHTML:t.explain},null,8,O)):g("",!0)]))),128))],512)]))])):(s(),n("div",N,C))}var z=k(w,[["render",D]]);export{z as default};
